image:
  pullPolicy: Always

ingress:
  enabled: true
  className: "nginx"
  annotations:
    nginx.ingress.kubernetes.io/proxy-body-size: "50m"
    nginx.ingress.kubernetes.io/enable-websocket: "true"
    # kubernetes.io/ingress.class: nginx
    # kubernetes.io/tls-acme: "true"
  hosts:
    - host: vendor-portal-api-dev.scg.com
      paths:
        - path: /
          pathType: ImplementationSpecific
  tls: []
    # - secretName: allpay-tls
    #   hosts:
    #     - vendor-portal-api-dev.scg.com

# Additional volumes on the output Deployment definition.
volumes:
- name: allpay-storage
  persistentVolumeClaim:
    claimName: allpay-dev-storage

# Additional volumeMounts on the output Deployment definition.
volumeMounts:
- name: allpay-storage
  mountPath: "/mnt/data"

env:
  - name: ASPNETCORE_ENVIRONMENT
    value: Dev
  - name: Serilog__WriteTo__2__Args__apiKey
    valueFrom:
      secretKeyRef:
        name: allpay-secret
        key: ELASTICSEARCH_API_KEY
  - name: ConnectionStrings__VendorPortal
    valueFrom:
      secretKeyRef:
        name: allpay-secret
        key: DB_CONNECTION_VENDOR_PORTAL
  - name: ConnectionStrings__ShareMaster
    valueFrom:
      secretKeyRef:
        name: allpay-secret
        key: DB_CONNECTION_SHARE_MASTER
  - name: ConnectionStrings__DataWarehouse
    valueFrom:
      secretKeyRef:
        name: allpay-secret
        key: DB_CONNECTION_DATA_WAREHOUSE
  - name: MongoDB__VendorPortal__ConnectionString
    valueFrom:
      secretKeyRef:
        name: allpay-secret
        key: MONGO_CONNECTION
  - name: Redis__ConnectionString
    valueFrom:
      secretKeyRef:
        name: allpay-secret
        key: REDIS_CONNECTION
  - name: AI__APIKey
    valueFrom:
      secretKeyRef:
        name: allpay-secret
        key: AI_API_KEY
  - name: ChatBot__RsaPublicKey
    valueFrom:
      secretKeyRef:
        name: allpay-secret
        key: CHATBOT_PUBLIC_KEY
  - name: InternalAPIKey
    valueFrom:
      secretKeyRef:
        name: allpay-secret
        key: INTERNAL_API_KEY_VP

autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 10
  targetCPUUtilizationPercentage: 80

replicaCount: 2